<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - The Psychology Playbook</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Patrick+Hand&family=Montserrat:wght@700;800;900&family=Quicksand:wght@500;700&display=swap');
        
        body {
            background: url('assets/paper.jpg'); /* Replace with actual image path */
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-repeat: repeat; /* Ensures the paper effect looks natural */

            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding-top: 80px; /* Prevents content from hiding under navbar */
        }

        /* 📌 Sticky Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(8px);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            border-bottom: 3px solid;
            border-image: linear-gradient(
                90deg, 
                #D5B9CB 0%, 
                #E4D6C0 25%, 
                #9BC5C6 50%, 
                #C6D5B9 75%, 
                #D5B9CB 100%
            ) 1;
        }

        /* Logo */
        .logo {
            height: 45px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .logo:hover {
            transform: scale(1.05);
        }

        /* Navigation Links */
        .nav-links {
            display: flex;
            gap: 20px;
            list-style: none;
            margin: 0;
            padding: 0 20px;
        }

        .nav-links li {
            display: inline-block;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            padding: 8px 15px;
            border-radius: 18px; /* Increased border radius for more rounded corners */
            transition: all 0.3s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        /* Individual color for each nav link */
        .nav-links li:nth-child(1) a::before {
            background: #D5B9CB;
        }
        
        .nav-links li:nth-child(2) a::before {
            background: #E4D6C0;
        }
        
        .nav-links li:nth-child(3) a::before {
            background: #9BC5C6;
        }
        
        .nav-links li:nth-child(4) a::before {
            background: #C6D5B9;
        }

        .nav-links a::before {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0;
            opacity: 0.8;
            transition: height 0.3s ease;
            z-index: -1;
        }

        .nav-links a:hover {
            color: #222;
            transform: translateY(-2px);
        }

        .nav-links a:hover::before {
            height: 100%;
        }

        /* 📌 Responsive Menu Button */
        .menu-icon {
            display: none;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 10px;
            transition: transform 0.3s ease, color 0.3s ease;
            color: #333;
        }
        
        .menu-icon:hover {
            transform: rotate(90deg);
            color: #9BC5C6;
        }

        /* Blog Header */
        .blog-header {
            margin-top: 40px;
            margin-bottom: 50px;
            text-align: center;
            max-width: 800px;
            padding: 0 20px;
        }

        .blog-title {
            font-size: 3.5rem;
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 15px;
            background: linear-gradient(
                45deg, 
                #D5B9CB 0%, 
                #E4D6C0 25%, 
                #9BC5C6 50%, 
                #C6D5B9 75%, 
                #D5B9CB 100%
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-shift 8s ease infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .blog-subtitle {
            font-size: 1.4rem;
            color: #444;
            font-family: 'Quicksand', sans-serif;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }

        /* Blog Container */
        .blog-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
        }

        /* Blog Post Card */
        .blog-post {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .blog-post:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .blog-post-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .blog-post-tag {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #D5B9CB;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }

        /* Color variation for tags */
        .blog-post:nth-child(4n+1) .blog-post-tag {
            background: #D5B9CB; /* Pink */
        }
        .blog-post:nth-child(4n+2) .blog-post-tag {
            background: #E4D6C0; /* Beige */
        }
        .blog-post:nth-child(4n+3) .blog-post-tag {
            background: #9BC5C6; /* Teal */
        }
        .blog-post:nth-child(4n+4) .blog-post-tag {
            background: #C6D5B9; /* Green */
        }

        .blog-post-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .blog-post-date {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .blog-post-title {
            font-size: 1.6rem;
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 15px;
            line-height: 1.3;
            color: #333;
        }

        .blog-post-excerpt {
            font-size: 1rem;
            line-height: 1.6;
            color: #444;
            margin-bottom: 25px;
            flex-grow: 1;
        }

        .blog-post-link {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(
                45deg, 
                #D5B9CB 0%, 
                #E4D6C0 25%, 
                #9BC5C6 50%, 
                #C6D5B9 75%, 
                #D5B9CB 100%
            );
            background-size: 300% 300%;
            color: #333;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin-top: auto;
            align-self: flex-start;
        }

        .blog-post-link:hover {
            background-position: 100% 50%;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Newsletter Section */
        .newsletter {
            background: rgba(233, 240, 227, 0.5);
            padding: 40px;
            margin: 80px auto 50px;
            border-radius: 15px;
            max-width: 600px;
            text-align: center;
            outline: 2px solid #60503E;
            outline-offset: -2px;
        }

        .newsletter h2 {
            font-size: 2rem;
            color: #60503E;
            margin-bottom: 15px;
            font-family: 'Montserrat', sans-serif;
        }

        .newsletter p {
            color: #60503E;
            font-size: 1.1rem;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }

        .newsletter-form input {
            padding: 12px 20px;
            border-radius: 25px;
            border: 2px solid #60503E;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
        }

        .newsletter-form button {
            padding: 12px 20px;
            background: #60503E;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .newsletter-form button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background: #4a3e30;
        }

        /* Loading and Error States */
        .loading-container, .error-container {
            text-align: center;
            padding: 50px 20px;
            margin: 0 auto;
            max-width: 600px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(155, 197, 198, 0.3);
            border-radius: 50%;
            border-top-color: #9BC5C6;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-container {
            background: rgba(255, 200, 200, 0.2);
            border-radius: 10px;
            padding: 30px;
        }

        .error-container h3 {
            color: #d23b3b;
            margin-bottom: 15px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 50px 0;
        }

        .pagination-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #9BC5C6;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #333;
        }

        .pagination-btn:hover, .pagination-btn.active {
            background: #9BC5C6;
            color: white;
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Footer */
        .footer {
            background: linear-gradient(
                to right,
                rgba(213, 185, 203, 0.2),
                rgba(228, 214, 192, 0.2),
                rgba(155, 197, 198, 0.2),
                rgba(198, 213, 185, 0.2)
            );
            border-top: 4px solid;
            border-image: linear-gradient(
                90deg, 
                #D5B9CB 0%, 
                #E4D6C0 25%, 
                #9BC5C6 50%, 
                #C6D5B9 75%, 
                #D5B9CB 100%
            ) 1;
            text-align: center;
            padding: 2rem 0;
            width: 100%;
            margin-top: 2.5rem;
            box-shadow: 0px -2px 10px rgba(0, 0, 0, 0.05);
        }

        .footer p {
            font-size: 1.25rem;
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
            color: #333;
            position: relative;
            display: inline-block;
        }
        
        .footer p::after {
            content: "✨";
            position: absolute;
            right: -25px;
            top: 0;
            transition: transform 0.3s ease;
        }
        
        .footer p:hover::after {
            transform: rotate(30deg) scale(1.2);
        }

        .footer-nav {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .footer-nav a {
            font-size: 1.1rem;
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
            color: #444;
            text-decoration: none;
            transition: all 0.3s ease-in-out;
            padding: 5px 10px;
            border-radius: 4px;
            position: relative;
        }

        .footer-nav a::before {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(
                90deg, 
                #D5B9CB, 
                #9BC5C6
            );
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .footer-nav a:hover {
            color: #333;
            transform: translateY(-2px);
        }
        
        .footer-nav a:hover::before {
            width: 80%;
        }

        .footer-button {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(
                45deg, 
                #D5B9CB 0%, 
                #E4D6C0 25%, 
                #9BC5C6 50%, 
                #C6D5B9 75%, 
                #D5B9CB 100%
            );
            background-size: 300% 300%;
            color: #333;
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
            padding: 12px 20px;
            border-radius: 12px;
            border: none;
            margin-top: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            text-decoration: none;
        }

        .footer-button:hover {
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            background-position: 100% 50%;
        }
        
        .footer-button::after {
            content: "→";
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        
        .footer-button:hover::after {
            transform: translateX(4px);
        }

        /* Responsive Styles */
        @media (max-width: 1100px) {
            .blog-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .blog-title {
                font-size: 2.8rem;
            }

            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 60px;
                right: 0;
                background: white;
                width: 200px;
                padding: 15px;
                border-radius: 0 0 8px 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                opacity: 0;
                transform: translateY(-10px);
                transition: opacity 0.3s ease, transform 0.3s ease;
            }

            .nav-links.show {
                display: flex;
                opacity: 1;
                transform: translateY(0);
            }

            .nav-links li {
                margin: 10px 0;
            }

            .menu-icon {
                display: block;
            }

            .newsletter {
                padding: 30px 20px;
            }
        }

        @media (max-width: 600px) {
            .blog-container {
                grid-template-columns: 1fr;
            }

            .blog-title {
                font-size: 2.3rem;
            }

            .blog-subtitle {
                font-size: 1.2rem;
            }

            .newsletter-form {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- 📌 Sticky Navigation Bar -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="whywedo.html">
                <img src="your-logo.png" alt="Logo" class="logo"> <!-- Replace with actual logo -->
            </a>
        </div>
        <div class="menu-icon" onclick="toggleMenu()">☰</div>
        <ul class="nav-links">
            <li><a href="whywedo.html">Home</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#book">Book</a></li>
        </ul>
    </nav>

    <!-- Blog Header -->
    <header class="blog-header">
        <h1 class="blog-title">Brain Stories Blog</h1>
        <p class="blog-subtitle">Delving deeper into the fascinating workings of human psychology, behavior, and cognitive biases.</p>
    </header>

    <!-- Blog Posts Container -->
    <div class="blog-container" id="blogPosts">
        <!-- Posts will be loaded here -->
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <p>Loading latest posts...</p>
        </div>
    </div>

    <!-- Pagination -->
    <div class="pagination" id="pagination">
        <button class="pagination-btn disabled" id="prevBtn">Previous</button>
        <button class="pagination-btn active">1</button>
        <button class="pagination-btn">2</button>
        <button class="pagination-btn">3</button>
        <button class="pagination-btn" id="nextBtn">Next</button>
    </div>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <h2>Never Miss a Post</h2>
        <p>Subscribe to my newsletter for the latest psychology insights, brain hacks, and cognitive discoveries.</p>
        <form class="newsletter-form">
            <input type="email" placeholder="Your email address" required>
            <button type="submit">Subscribe</button>
        </form>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Made with ✨ and brain glitches.</p>

        <nav class="footer-nav">
            <a href="whywedo.html">Home</a>
            <a href="blog.html">Blog</a>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
        </nav>

        <div>
            <a href="https://substack.com/@riadumitrescu" target="_blank" class="footer-button">
                🐾 More weird brain stuff → Substack
            </a>
        </div>
    </footer>

    <script>
        // Mobile menu toggle function
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('show');
            
            // Add animation to menu icon
            const menuIcon = document.querySelector('.menu-icon');
            if (navLinks.classList.contains('show')) {
                menuIcon.innerHTML = '✕';
                menuIcon.style.transform = 'rotate(90deg)';
            } else {
                menuIcon.innerHTML = '☰';
                menuIcon.style.transform = 'rotate(0deg)';
            }
        }

        // Fetch blog posts from Substack RSS feed
        document.addEventListener('DOMContentLoaded', function() {
            fetchSubstackPosts();
        });

        async function fetchSubstackPosts() {
            const blogContainer = document.getElementById('blogPosts');
            const corsProxy = 'https://cors-anywhere.herokuapp.com/';
            const substackRssUrl = 'https://irinadumitrescu.substack.com/feed';
            
            try {
                // First try without CORS proxy
                let response;
                try {
                    response = await fetch(substackRssUrl);
                } catch (directError) {
                    // If direct request fails, try with CORS proxy
                    console.log('Direct request failed, trying with CORS proxy');
                    response = await fetch(corsProxy + substackRssUrl);
                }
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const rssText = await response.text();
                const parser = new DOMParser();
                const rssDoc = parser.parseFromString(rssText, 'text/xml');
                
                // Clear loading indicator
                blogContainer.innerHTML = '';
                
                // Process the RSS items
                const items = rssDoc.querySelectorAll('item');
                
                // Map categories to our tag colors
                const categoryMap = {
                    'psychology': 'Thoughts',
                    'cognitive bias': 'Thoughts',
                    'behavior': 'Action',
                    'social psychology': 'People',
                    'decision making': 'Choices'
                };
                
                // If no items found, display error
                if (items.length === 0) {
                    fallbackToSamplePosts();
                    return;
                }
                
                items.forEach(item => {
                    const title = item.querySelector('title')?.textContent || 'Untitled Post';
                    const link = item.querySelector('link')?.textContent || 'https://substack.com/@riadumitrescu';
                    const pubDate = item.querySelector('pubDate')?.textContent || '';
                    
                    // Format date
                    const date = pubDate ? new Date(pubDate) : new Date();
                    const formattedDate = date.toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    
                    // Get content and create excerpt
                    let content = item.querySelector('content\\:encoded, encoded')?.textContent || 
                                 item.querySelector('description')?.textContent || '';
                    
                    // Strip HTML and create excerpt
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = content;
                    content = tempDiv.textContent || tempDiv.innerText || '';
                    const excerpt = content.substring(0, 200) + '...';
                    
                    // Get categories or default to "Thoughts"
                    const categories = Array.from(item.querySelectorAll('category'))
                        .map(cat => cat.textContent.toLowerCase());
                    
                    // Match category to our tag system or default to "Thoughts"
                    let tag = 'Thoughts';  // Default
                    for (const cat of categories) {
                        if (categoryMap[cat]) {
                            tag = categoryMap[cat];
                            break;
                        }
                    }
                    
                    // Extract image if possible
                    let imageUrl = 'https://placehold.co/600x400?text=Psychology+Blog';
                    
                    // Try to find an image in the content
                    tempDiv.innerHTML = item.querySelector('content\\:encoded, encoded')?.textContent || '';
                    const firstImg = tempDiv.querySelector('img');
                    if (firstImg && firstImg.src) {
                        imageUrl = firstImg.src;
                    }
                    
                    // Create the blog post element
                    const postElement = document.createElement('article');
                    postElement.className = 'blog-post';
                    
                    postElement.innerHTML = `
                        <span class="blog-post-tag">${tag}</span>
                        <img src="${imageUrl}" alt="${title}" class="blog-post-img" onerror="this.src='https://placehold.co/600x400?text=Psychology+Blog'">
                        <div class="blog-post-content">
                            <span class="blog-post-date">${formattedDate}</span>
                            <h2 class="blog-post-title">${title}</h2>
                            <p class="blog-post-excerpt">${excerpt}</p>
                            <a href="${link}" class="blog-post-link" target="_blank">Read More</a>
                        </div>
                    `;
                    
                    blogContainer.appendChild(postElement);
                });
                
                // Setup pagination if we have enough posts
                updatePagination(items.length);
                
            } catch (error) {
                console.error('Error fetching Substack RSS feed:', error);
                fallbackToSamplePosts();
            }
        }
        
        function fallbackToSamplePosts() {
            console.log('Falling back to sample posts');
            const blogContainer = document.getElementById('blogPosts');
            
            blogContainer.innerHTML = `
                <div class="error-container">
                    <h3>Unable to connect to Substack</h3>
                    <p>We're having trouble connecting to the blog right now. Please check back later or visit the Substack directly.</p>
                    <a href="https://substack.com/@riadumitrescu" class="blog-post-link" style="margin-top: 20px;">Visit Substack</a>
                </div>
            `;
            
            // Load sample posts after error message
            setTimeout(loadSamplePosts, 500);
        }
        
        function loadSamplePosts() {
            const blogContainer = document.getElementById('blogPosts');
            
            // Sample blog post data as fallback
            const posts = [
                {
                    title: "Why Defaults Are More Powerful Than You Think",
                    excerpt: "Default options significantly influence our decisions without us even realizing it. This cognitive phenomenon called the default effect explains why organ donation rates vary dramatically between countries...",
                    image: "assets/default_effect.jpg",
                    date: "May 15, 2023",
                    tag: "Choices",
                    url: "https://substack.com/@riadumitrescu"
                },
                {
                    title: "The Weird Reason We Fear Missing Out",
                    excerpt: "FOMO isn't just a modern social media phenomenon. It's rooted in ancient survival mechanisms that once protected us from being excluded from the tribe. Learn how this evolutionary adaptation...",
                    image: "assets/fomo.jpg",
                    date: "April 28, 2023",
                    tag: "People",
                    url: "https://substack.com/@riadumitrescu"
                },
                {
                    title: "How Your Brain Creates False Memories",
                    excerpt: "Your memories aren't as reliable as you think. Each time you recall an event, your brain actually reconstructs it, potentially introducing new elements or distortions. This process, called memory reconsolidation...",
                    image: "assets/false_memories.jpg",
                    date: "April 10, 2023",
                    tag: "Thoughts",
                    url: "https://substack.com/@riadumitrescu"
                },
                {
                    title: "The Surprising Science of Procrastination",
                    excerpt: "Procrastination isn't about laziness—it's about emotion regulation. When we procrastinate, we're actually choosing to avoid negative emotions associated with a task. This psychological insight can help you overcome...",
                    image: "assets/procrastination.jpg",
                    date: "March 22, 2023",
                    tag: "Action",
                    url: "https://substack.com/@riadumitrescu"
                },
                {
                    title: "Why We're Terrible at Predicting Our Future Feelings",
                    excerpt: "Humans consistently misjudge how events will affect their emotional state. This phenomenon, called affective forecasting, leads us to overestimate the impact of both positive and negative events on our happiness...",
                    image: "assets/affective_forecasting.jpg",
                    date: "March 8, 2023",
                    tag: "Thoughts",
                    url: "https://substack.com/@riadumitrescu"
                },
                {
                    title: "The Hidden Psychology of Pricing",
                    excerpt: "Price anchors, charm prices, and bundle framing aren't just marketing tricks—they exploit fundamental cognitive biases that affect how we perceive value. Understanding these psychological mechanisms can make you a more conscious consumer...",
                    image: "assets/pricing_psychology.jpg",
                    date: "February 17, 2023",
                    tag: "Choices",
                    url: "https://substack.com/@riadumitrescu"
                }
            ];

            // Clear error container if exists
            const errorContainer = blogContainer.querySelector('.error-container');
            if (errorContainer) {
                blogContainer.removeChild(errorContainer);
            }

            // Create and append blog post elements
            posts.forEach(post => {
                const postElement = document.createElement('article');
                postElement.className = 'blog-post';

                // Create placeholder image URL if none provided
                const imageUrl = post.image || 'https://placehold.co/600x400?text=Psychology+Blog';

                postElement.innerHTML = `
                    <span class="blog-post-tag">${post.tag}</span>
                    <img src="${imageUrl}" alt="${post.title}" class="blog-post-img">
                    <div class="blog-post-content">
                        <span class="blog-post-date">${post.date}</span>
                        <h2 class="blog-post-title">${post.title}</h2>
                        <p class="blog-post-excerpt">${post.excerpt}</p>
                        <a href="${post.url}" class="blog-post-link" target="_blank">Read More</a>
                    </div>
                `;

                blogContainer.appendChild(postElement);
            });
            
            updatePagination(posts.length);
        }
        
        function updatePagination(postCount) {
            const paginationElement = document.getElementById('pagination');
            const pageSize = 6; // Posts per page
            const totalPages = Math.ceil(postCount / pageSize);
            
            // Only show pagination if we have more than one page
            if (totalPages <= 1) {
                paginationElement.style.display = 'none';
                return;
            }
            
            // Update pagination buttons
            let paginationHTML = `
                <button class="pagination-btn disabled" id="prevBtn">Previous</button>
            `;
            
            for (let i = 1; i <= Math.min(totalPages, 5); i++) {
                if (i === 1) {
                    paginationHTML += `<button class="pagination-btn active">1</button>`;
                } else {
                    paginationHTML += `<button class="pagination-btn">${i}</button>`;
                }
            }
            
            paginationHTML += `
                <button class="pagination-btn" id="nextBtn">Next</button>
            `;
            
            paginationElement.innerHTML = paginationHTML;
            
            // Attach event listeners
            document.getElementById('prevBtn').addEventListener('click', function() {
                if (!this.classList.contains('disabled')) {
                    // Previous page logic would go here
                    alert('In a full implementation, this would load the previous page of posts from your Substack.');
                }
            });
            
            document.getElementById('nextBtn').addEventListener('click', function() {
                // Next page logic would go here
                alert('In a full implementation, this would load the next page of posts from your Substack.');
            });
            
            document.querySelectorAll('.pagination-btn:not(#prevBtn):not(#nextBtn)').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelector('.pagination-btn.active').classList.remove('active');
                    this.classList.add('active');
                    
                    // Page change logic would go here
                    alert('In a full implementation, this would load page ' + this.textContent + ' of posts from your Substack.');
                });
            });
        }

        // Newsletter form functionality
        document.querySelector('.newsletter-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Thank you for subscribing to the newsletter!');
            this.reset();
        });
    </script>
</body>
</html>